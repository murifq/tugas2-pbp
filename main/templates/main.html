<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">    
    <style>
        body{
            margin: 0px;
        }
        header{
            color: white;
            background-color: green;
            height: 125px;
            position: fixed;
            top: 0;
            z-index: 9998;
            min-width: 100%;
        }
        h1{
            display: flex;
            flex-direction: row;
            justify-content: center;
        }
        nav{
            display: flex;
            flex-direction: row;
            justify-content: space-evenly;
        }

        .user-info{
            display: flex;
            flex-direction: row;
        }
        .user-info i,p{
            padding-left:10px;
            /* color: white; */
        }

        .create-product-button{
            padding-right: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        h1, h2{
            color: white;
            text-align: left;
            margin: 5px;
        }
        .product-box{
            display: flex;
            border-radius: 10px;
            flex-direction: column;
            border-style: double;
            justify-content: space-between;
            width:150px ;
            height: 300px;
        }
        .product-box p{
            padding-left: 2px;
            padding-right: 2px;
        }
        .price-field{
            font-weight: bold;
        }

        a{
            color: inherit;
            text-decoration: none;
        }
        img{
            width: 100%;
            /* object-fit:scale-down; */
            object-fit: cover;
            height: 100px;
        }

        .review-container{
            display: flex;
            flex-direction: row;
        }
        .total-items{
            padding-top: 125px;
        }
        .items-container{
            display: flex;
            flex-direction: row;
            justify-content: start;
            flex-wrap: wrap;
            padding-top: 10px;
        }
        .change-amount-btn{
            display: flex;
            flex-direction: row;
        }
        .last{
            color: green;;
        }
    </style>
</head>
<body>
    
    <header>

        <h1>tokopakedi</h1>
        <nav>
            <a class="create-product-button" href="{% url 'main:create_product' %}">
                <i class="fa fa-plus-circle" style="font-size:24px;color: white;"></i>
            </a>
            <a href="" class="user-info">
                <i class="fa fa-user" style="font-size:24px;color: white;"></i>
                <p>{{name}}</p>
            </a>
            <a href="{% url 'main:logout' %}">
                <i class="fa fa-sign-out" style="font-size:24px;color: white;"></i>
            </a>
        </nav>
    </header>
    <div class="total-items">
        Terdapat {{items|length}} barang
    </div>
    <div class="items-container">
        {%for x in items%}
        <ul>
            <a href="">
                <div class="product-box">
                    <img src='{{x.photo_url}}' alt="">
                    <div class="product-information">
                        <p {% if forloop.last %} class='last'{% endif %} >{{x.name}}</p>
                        <p {% if forloop.last %} class='last'{% endif %} class="price-field">Rp.{{x.price}}</p>
                        <div class="review-container">
                            <img src="https://cdn-icons-png.flaticon.com/512/2107/2107957.png" style="max-width: 12px; max-height: 12px;margin-top: 18px;">
                            <p{% if forloop.last %} class='last'{% endif %}>{{x.rating}} | </p>
                            <p{% if forloop.last %} class='last'{% endif %}>{{x.amount}} stok</p>
                        </div>
                    </div>
                    <div class="change-amount-btn">
                        <form method="POST" action="{% url 'main:increase_amount' x.id %}">
                            {% csrf_token %}
                            <!-- <button type="submit" class="btn btn-success btn-sm">+1</button> -->
                            <input class="btn-login_btn" type="submit" value="+1">

                        </form>
                        <form method="POST" action="{% url 'main:decrease_amount' x.id %}">
                            {% csrf_token %}
                            <!-- <button type="submit" class="btn btn-danger btn-sm">-1</button> -->
                            <input class="btn-login_btn" type="submit" value="-1">

                        </form>
                        <form method="POST" action="{% url 'main:remove_item' x.id %}">
                            {% csrf_token %}
                            <!-- <button type="submit" class="btn btn-danger btn-sm">Del</button> -->
                            <input class="btn-login_btn" type="submit" value="Del">
                        </form>
                    </div>
                </div>
            </a>
        </ul>
        {% endfor %}
    </div>
    <h5>Sesi terakhir login: {{ last_login }}</h5>

</body>

</html>